import i from"fs";import{pathToFileURL as s}from"node:url";import{dirname as p}from"path";import o from"typescript";import{fileURLToPath as m}from"url";const a=m(import.meta.url),n=async t=>{if(t.split(".").pop()=="ts"){const r=o.convertCompilerOptionsFromJson(JSON.parse((await i.promises.readFile(`${p(a)}/../../node_modules/@lightrix/config/base/ts.json`)).toString()).compilerOptions,"."),e=o.createCompilerHost(r.options);o.createProgram([t],r.options,e).emit(),await i.promises.writeFile(t.replace(".ts",".js"),o.transpile((await i.promises.readFile(t)).toString(),r.options))}return(await import(s(t).toString().replace(".ts",".js"))).default};var w=()=>({importFile:n});export{w as default,n as importFile};
