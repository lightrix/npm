import i from"fs";import{pathToFileURL as s}from"node:url";import{dirname as p,resolve as m}from"path";import t from"typescript";import{fileURLToPath as n}from"url";const a=n(import.meta.url),c=p(a),l=async o=>{if(o.split(".").pop()=="ts"){const r=t.convertCompilerOptionsFromJson(JSON.parse((await i.promises.readFile(m(`${c}/../../node_modules/@lightrix/config/tsconfig.json`))).toString()).compilerOptions,"."),e=t.createCompilerHost(r.options);t.createProgram([o],r.options,e).emit(),await i.promises.writeFile(o.replace(".ts",".js"),t.transpile((await i.promises.readFile(o)).toString(),r.options))}return(await import(s(o).toString().replace(".ts",".js"))).default};var _=()=>({importFile:l});export{_ as default,l as importFile};
