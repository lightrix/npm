import{exec as f}from"child_process";import{deepmerge as e}from"deepmerge-ts";import c from"esbuild";import m from"fast-glob";import p from"../config/esbuild.js";import{importFile as a}from"../lib/utils.js";var O=async(s,t)=>{const o=[];for(const i of s)for(const n of await m(i))o.push(n);const r=e(p,{entryPoints:Object.fromEntries(o.map(i=>[i.replace("src/","").split(".").slice(0,-1).join("."),i]))});await c.build(t?.config?e(r,await a(t.config)):r),t?.tsconfig?f(`tsc -p ${t?.tsconfig}`):f("tsc")};export{O as default};
