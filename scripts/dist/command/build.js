import{exec as e}from"child_process";import{deepmerge as f}from"deepmerge-ts";import c from"esbuild";import m from"fast-glob";import p from"./../config/esbuild.js";import{importFile as a}from"./../lib/utils.js";var O=async(s,t)=>{let o=[];for(const i of s)for(const n of await m(i))o.push(n);const r=f(p,{entryPoints:Object.fromEntries(o.map(i=>[i.replace("src/","").split(".").slice(0,-1).join(),i]))});await c.build(t?.config?f(r,await a(t.config)):r),t?.tsconfig?e(`tsc -p ${t?.tsconfig}`):e("tsc")};export{O as default};
