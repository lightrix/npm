import{exec as e}from"child_process";import{deepmerge as f}from"deepmerge-ts";import n from"esbuild";import c from"fast-glob";import p from"../config/esbuild.js";import{importFile as a}from"../lib/utils.js";var w=async(s,t)=>{const o=[];for(const i of s)for(const m of await c(i))o.push(m);const r=f(p,{entryPoints:Object.fromEntries(o.map(i=>[i.replace("src/","").split(".").slice(0,-1).join("."),i]))});await n.build(t?.config?f(r,await a(t.config)):r),t?.tsconfig?e(`tsc -p ${t?.tsconfig}`):e("tsc")};export{w as default};
