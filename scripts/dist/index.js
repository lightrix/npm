import{deepmerge as n}from"deepmerge-ts";import{Command as m}from"commander";import p from"fast-glob";import a from"esbuild";import{exec as c}from"child_process";import u from"fs";const o=new m,i="dist",l={entryPoints:[],format:"esm",minify:!0,outdir:i,platform:"node",target:"node14",write:!0,plugins:[{name:"clean-dist",setup(t){t.onStart(async()=>{try{await u.promises.rm(i,{recursive:!0})}catch{}})}}]};o.name("playform").description("CLI to some JavaScript build scripts").version("0.0.1"),o.command("build").description("Build scripts").argument("<scripts...>","Scripts to build").action(async t=>{let r=[];for(const e of t)for(const s of await p(e))r.push(s);await a.build(n(l,{entryPoints:r})),c("tsc")}),o.parse();
