import{Command as a}from"commander";import m from"fast-glob";import n from"esbuild";import p from"fs";import{exec as c}from"child_process";const r=new a;r.name("playform").description("CLI to some JavaScript build scripts").version("0.0.1"),r.command("build").description("Build scripts").argument("<scripts...>","Scripts to build").action(async s=>{let o=[];for(const t of s)for(const e of await m(t))o.push(e);const i="./dist";await n.build({entryPoints:o,format:"esm",minify:!0,outdir:i,platform:"node",target:"node14",write:!0,plugins:[{name:"clean-dist",setup(t){t.onStart(async()=>{try{await p.promises.rm(i,{recursive:!0})}catch{}})}}]}),c("tsc")}),r.parse();
